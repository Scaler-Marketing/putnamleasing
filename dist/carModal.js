document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".car-modal");if(!e){console.error("No car modals found.");return}e.forEach(e=>{let r=e.dataset.carId;if(!r){console.error("No car id found.");return}let t=document.querySelector(`[data-car-target="${r}"]`);if(!t){console.error("No trigger found.");return}!function(e,r){let t=e.querySelector(".car-gallery_imgs"),a=e.querySelector(".car-gallery_thumbs"),o=e.querySelector(".car-modal_close"),l=e.querySelector(".car-gallery_source");if(!e||!l){console.error("One or more required elements are missing.");return}!function(e,r,t){let a=function(e){let r=e.querySelector('script[type="application/json"]');if(r){let e=r.textContent.trim();try{return JSON.parse(e).items}catch(e){console.error("Error parsing JSON:",e)}}else console.error("No script tag with type application/json found inside the link element.")}(e);if(!a)return;let o=new Swiper(r,{spaceBetween:16,slidesOffsetBefore:24,slidesOffsetAfter:24,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,watchOverflow:!0,navigation:{nextEl:".car-gallery_nav.next",prevEl:".car-gallery_nav.prev"}});a.forEach(e=>{o.appendSlide(`<div class="swiper-slide car-gallery_thumb-wrapper"><img src="${e.url}" class="car-gallery_thumb"></div>`)}),o.update();let l=new Swiper(t,{effect:"fade",thumbs:{swiper:o}});a.forEach(e=>{l.appendSlide(`<div class="swiper-slide car-gallery_img-wrapper"><img src="${e.url}" class="car-gallery_img"></div>`)}),l.update()}(l,a,t);let i=gsap.timeline({paused:!0,onStart:()=>{e.classList.add("is-active")},onReverseComplete:()=>{e.classList.remove("is-active")}});i.fromTo(e,{maskPosition:"0% 0%"},{maskPosition:"50% 0%",duration:1,ease:"expo.inOut"}).fromTo(o,{y:"-8rem"},{y:"0rem",duration:1,ease:"expo.inOut"},.5).fromTo(t,{opacity:0},{opacity:1,duration:1,ease:"expo.inOut"},.5).fromTo(a.querySelectorAll(".car-gallery_thumb-wrapper"),{y:"12rem"},{y:"0rem",duration:1,stagger:.01,ease:"expo.inOut"},.5),r.addEventListener("click",()=>{1===i.progress()?i.reverse():i.play()}),o.addEventListener("click",()=>{i.reverse()})}(e,t)})});
//# sourceMappingURL=carModal.js.map
